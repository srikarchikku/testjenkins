# This is a basic workflow to help you get started with Actions

name: My Workflow

on:
  workflow_dispatch:
    inputs:
      release_version:
        description: 'Enter Version'
        required: true
        default: 'default value'
      traffic_color:
        description: 'Enter colour'
        required: true
        default: 'green'
        
        
jobs:
   build:
     
     runs-on: ubuntu-latest
     
     steps:
     - name: checkout
       uses: rohmanngmbh/action-checkout-repo@v1.3.4
       with:
         repository: srikarchikku/testjenkins
     - name: Print Input Parameter
       run: echo "'${{inputs.release_version}}'"
            echo "'${{secrets.JENKINS_USERNAME}}'"
     - name: Trigger jenkins 
       run: |
        curl -X POST \
          -H "Content-Type: application/json" \ # Replace with your Jenkins username and API token
          -H "Authorization: Basic cGlubmFzcmlrYXI6MTE5ZDMyZTYwODM3NWFiYTg1MDdlMDU4ZWNlNzFhZDQ5Nw==" \
          -d '{
            "parameter": [
              {"name": "RELEASE_NAME", "value": "FCH22.01.3"}
            ]
          }' \
          http://localhost:8080/job/Check_Job/buildWithParameters 
  
  
      
